/*! forum(1.0.0) - JianGang Zhao <zhaojiangang@gmail.com> - 2013-11-15 10:22:04*/
define("forum/1.0.0/forum",["lib/latest/lib","global/latest/global"],function(a,b,c){var d=a("lib/latest/lib"),e=(a("global/latest/global"),{});e.list_events=function(){$("#threadtypesmenuorder_fix").hover(function(){$("#threadtypesmenuorder_menu").show()},function(){$("#threadtypesmenuorder_menu").hide()}),window.localStorage&&"undefined"!=typeof localStorage.bbs_forum_list_type&&("text"==localStorage.bbs_forum_list_type&&($("#textlist").removeClass("ontext").addClass("text"),$("#piclist").removeClass("pic").addClass("onpic"),$(".bbs_threadlist .pics").hide()),"pic"==localStorage.bbs_forum_list_type&&($("#piclist").removeClass("onpic").addClass("pic"),$("#textlist").removeClass("text").addClass("ontext"),$(".bbs_threadlist .pics").show())),$("#textlist").on("click",function(){$(this).removeClass("ontext").addClass("text"),$("#piclist").removeClass("pic").addClass("onpic"),$("#threadlist p.pics").animate({opacity:"hide",height:"hide"},400),window.localStorage&&window.localStorage.setItem("bbs_forum_list_type","text")}),$("#piclist").on("click",function(){$(this).removeClass("onpic").addClass("pic"),$("#textlist").removeClass("text").addClass("ontext"),$("#threadlist p.pics").animate({opacity:"show",height:"show"},300),window.localStorage&&window.localStorage.setItem("bbs_forum_list_type","pic")})},e.post_topic=function(){var a=new d.popup({title:"\u9009\u62e9\u8981\u53d1\u5e03\u5230\u7248\u5757\uff1a"});a.ajax("/forums/select_forums","600",function(){setTimeout(function(){$pop_html_box=$("#pop_html_box"),$pop_html_box_navli=$pop_html_box.find("ul.forumnav li"),$pop_html_box_list=$pop_html_box.find("div.subcnt ul.list"),$post_link=$("#post_link");var a;$pop_html_box_navli.mouseover(function(){a=$(this),$(this).addClass("current"),$(this).siblings().removeClass("current"),$pop_html_box_list.eq(a.index()).show().siblings().hide()}),$pop_html_box_list.find("a").click(function(){window.location.href="/forums/topics/post?fid="+$(this).attr("fid")}),$post_link.click(function(){setTimeout(function(){},600)})},150)})},e.floatTool=function(){var a=$("#bbs_tools"),b=a.offset().top;$(window).on("scroll",function(){var c=$(window).scrollTop();c+35>b?(a.css("position","fixed"),a.css("top","35px")):(a.css("position","static"),a.css("top",""))})},e.changeSubject=function(){var a=$("#forum_form");a.find(".base_tab li").click(function(){var b=$(this).find("a"),c=b.addClass("cur").attr("sid");a.find("#subject_id").val(c),$(this).siblings("li").find("a").removeClass("cur"),a.find("ul[subject]").hide(),a.find("#subject"+c).show()})},c.exports=e});